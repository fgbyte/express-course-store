![[Pasted image 20221130235724.png]]
- Se encuentran en el medio entre el Request(req) y el Response(res)
No es mas que a partir de los datos del Request, nos conectamos al servicio, hacemos un procedimiento y enviamos una Respuesta

Sin embargo pueden ser utilizados de forma global (capturar todos los errores de nuestra app) o de forma unica para cada Endpoint

![[Pasted image 20221201224113.png]]
- Una de sus propiedades es que puede funcionar de forma secuencial
- Podemos tener varios Middelwares y hacer que uno corra tras de otro.
![[Pasted image 20221201224342.png]]
- con esto un middelware puede bloquear la cadena.

## Estructura logica de los Middelwares:
![[Pasted image 20221201224428.png]]
- el next es el que nos permite ejecutar y seguir al siguiente middelware en caso que lo queramos
- si no, usamos `res.send` para finalizar y enviar la respuesta

## Middlewares de tipo error:
![[Pasted image 20221201224633.png]]
- reciben el Error First
- y debemos tener los 4 parametros para que Node identifique que es un Middleware de tipo error

>Asi no estes usando 'next' debe de ponerse porque es como detecta que es un Middleware de tipo Error!!!

De esta forma podemos tener un Middleware global en el que le mandamos todas las peticiones y si le mandamos un error tira status(500), sino sigue normal.

Estos se deben colocar en nuestro index.js principal (root) siempre despues de la funcion que ejecuta el Routing

## Casos de uso
![[Pasted image 20221201224928.png]]
- pipes = tuberias que conectan unos con otros

### Practica:
Implementar Middleware Global para errores.
Con este no tenemos que capturar el error uno por uno en nuestros metodos, sino que el Middleware Global se encarga de capturarlo y mandarlo de forma organizada.

